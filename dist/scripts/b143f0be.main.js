var taskInput=document.getElementById("new-task"),addButton=document.getElementsByTagName("button")[0],incompleteTasksHolder=document.getElementById("incomplete-tasks"),completedTasksHolder=document.getElementById("completed-tasks"),createNewTaskElement=function(a){var b=document.createElement("li"),c=document.createElement("input"),d=document.createElement("label"),e=document.createElement("input"),f=document.createElement("button"),g=document.createElement("button");return c.type="checkbox",e.type="text",f.innerText="Edit",f.className="edit",g.innerText="Delete",g.className="delete",d.innerText=a,b.appendChild(c),b.appendChild(d),b.appendChild(e),b.appendChild(f),b.appendChild(g),b},addTask=function(){console.log("Add task...");var a=createNewTaskElement(taskInput.value);incompleteTasksHolder.appendChild(a),bindTaskEvents(a,taskCompleted),taskInput.value=""},editTask=function(){console.log("Edit task...");var a=this.parentNode,b=a.querySelector("input[type=text"),c=a.querySelector("label"),d=a.classList.contains("editMode");d?c.innerText=b.value:b.value=c.innerText,a.classList.toggle("editMode")},deleteTask=function(){console.log("Delete task...");var a=this.parentNode,b=a.parentNode;b.removeChild(a)},taskCompleted=function(){console.log("Task complete...");var a=this.parentNode;completedTasksHolder.appendChild(a),bindTaskEvents(a,taskIncomplete)},taskIncomplete=function(){console.log("Task incomplete...");var a=this.parentNode;incompleteTasksHolder.appendChild(a),bindTaskEvents(a,taskCompleted)},bindTaskEvents=function(a,b){console.log("Bind list item events");var c=a.querySelector("input[type=checkbox]"),d=a.querySelector("button.edit"),e=a.querySelector("button.delete");d.onclick=editTask,e.onclick=deleteTask,c.onchange=b},ajaxRequest=function(){console.log("AJAX request")};addButton.addEventListener("click",addTask),addButton.addEventListener("click",ajaxRequest);for(var i=0;i<incompleteTasksHolder.children.length;i++)bindTaskEvents(incompleteTasksHolder.children[i],taskCompleted);for(var i=0;i<completedTasksHolder.children.length;i++)bindTaskEvents(completedTasksHolder.children[i],taskIncomplete);